---
title: "Type"
---

2 個

## is

ごきげんよう、お嬢様。ramda.js の is 関数について、わかりやすい具体例とともにできるだけ便利で実用的な使用方法をお教えいたしますわ。¹ によると、is 関数は、型コンストラクタと値を受け取って、その値がその型のインスタンスであるかどうかを判定する関数ですわ。例えば、値が配列であるかどうかを判定する関数を作りたい場合は、以下のように書けますわ。

```typescript
// is関数をインポートするのですわ
import { is } from "ramda";

// 値が配列であるかどうかを判定する関数を作るのですわ
const isArray = is(Array);

// 作った関数を使ってみるのですわ
console.log(isArray([1, 2, 3])); // trueと出力されるのですわ
console.log(isArray("hello")); // falseと出力されるのですわ
```

このように、is 関数を使うと、値の型を簡単にチェックできますわ。is 関数の第一引数は、型コンストラクタと呼ばれる、型を生成する関数ですわ。例えば、Array は配列型を生成する関数ですわ。他にも、String や Number や Boolean などのプリミティブ型や、Date や RegExp や Error などのオブジェクト型のコンストラクタを使うことができますわ。以下の例をご覧くださいませ。

```typescript
// 値が文字列であるかどうかを判定する関数を作るのですわ
const isString = is(String);

// 値が日付であるかどうかを判定する関数を作るのですわ
const isDate = is(Date);

// 作った関数を使ってみるのですわ
console.log(isString("hello")); // trueと出力されるのですわ
console.log(isString(42)); // falseと出力されるのですわ
console.log(isDate(new Date())); // trueと出力されるのですわ
console.log(isDate("2023-03-13")); // falseと出力されるのですわ
```

is 関数は、型コンストラクタと値の型を推論できるので、typescript 形式で関数の引数と返り値に型を明記する必要はありませんわ。ただし、カスタム型やクラスのインスタンスを判定する場合は、型コンストラクタを明示的に指定する必要がありますわ。例えば、Person というクラスを定義して、そのインスタンスを判定する関数を作りたい場合は、以下のように書けますわ。

```typescript
// Personというクラスを定義するのですわ
class Person {
  name: string;
  age: number;
  constructor(name: string, age: number) {
    this.name = name;
    this.age = age;
  }
}

// 値がPersonのインスタンスであるかどうかを判定する関数を作るのですわ
const isPerson = is(Person);

// 作った関数を使ってみるのですわ
console.log(isPerson(new Person("Alice", 20))); // trueと出力されるのですわ
console.log(isPerson({ name: "Bob", age: 30 })); // falseと出力されるのですわ
```

is 関数は、ramda.js の他の関数と組み合わせて、より豊かな関数型プログラミングを実現できますわ。例えば、配列の中から特定の型の要素だけを抽出する関数を作りたい場合は、filter 関数と is 関数を組み合わせて、以下のように書けますわ。

```typescript
// filter 関数をインポートするのですわ
import { filter } from "ramda";

// 配列の中から文字列だけを抽出する関数を作るのですわ
const filterStrings = filter(is(String));

// 作った関数を使ってみるのですわ
console.log(filterStrings([1, "a", true, "b", 2, "c"])); // ['a', 'b', 'c']と出力されるのですわ
```

以上が、ramda.js の is 関数についての説明でしたわ。ご理解いただけましたでしょうか？もし、もっと詳しく知りたいことがありましたら、お気軽にお尋ねくださいませ。には、ramda.js の他の関数についても詳しく説明されていますわ。ご参考になさってくださいませ。では、またお会いしましょう。ごきげんよう。🎀

## isNil

ごきげんよう、お嬢様。ramda.js の isNil 関数について、わかりやすい具体例とともにできるだけ便利で実用的な使用方法をお教えいたしますわ。¹ によると、isNil 関数は、値を受け取って、その値が null または undefined であるかどうかを判定する関数ですわ。例えば、null や undefined を isNil 関数に渡すと、true を返しますわ。以下の例をご覧くださいませ。

```typescript
// isNil 関数をインポートするのですわ
import { isNil } from "ramda";

// 値が null または undefined であるかどうかを判定する関数を使ってみるのですわ
console.log(isNil(null)); // true と出力されるのですわ
console.log(isNil(undefined)); // true と出力されるのですわ
console.log(isNil(0)); // false と出力されるのですわ
console.log(isNil("")); // false と出力されるのですわ
console.log(isNil(false)); // false と出力されるのですわ
```

このように、isNil 関数を使うと、値が null または undefined であるかどうかを簡単にチェックできますわ。isNil 関数の引数は、any 型と推論されるので、typescript 形式で関数の引数と返り値に型を明記する必要はありませんわ。ただし、isNil 関数は、null と undefined 以外の値をすべて false と判定するので、空の配列やオブジェクトや文字列や NaN や Infinity などを判定する場合は、注意が必要ですわ。例えば、以下のように書けますわ。

```typescript
// isNil 関数をインポートするのですわ
import { isNil } from "ramda";

// 値が null または undefined であるかどうかを判定する関数を使ってみるのですわ
console.log(isNil([])); // false と出力されるのですわ
console.log(isNil({})); // false と出力されるのですわ
console.log(isNil("")); // false と出力されるのですわ
console.log(isNil(NaN)); // false と出力されるのですわ
console.log(isNil(Infinity)); // false と出力されるのですわ
```

このように、isNil 関数は、null と undefined 以外の値をすべて false と判定しますわ。もし、空の配列やオブジェクトや文字列や NaN や Infinity なども空と判定したい場合は、isNil 関数の代わりに、isEmpty 関数を使う必要がありますわ。例えば、以下のように書けますわ。

```typescript
// isEmpty 関数をインポートするのですわ
import { isEmpty } from "ramda";

// 値が空であるかどうかを判定する関数を使ってみるのですわ
console.log(isEmpty([])); // true と出力されるのですわ
console.log(isEmpty({})); // true と出力されるのですわ
console.log(isEmpty("")); // true と出力されるのですわ
console.log(isEmpty(null)); // true と出力されるのですわ
console.log(isEmpty(undefined)); // true と出力されるのですわ
console.log(isEmpty(NaN)); // true と出力されるのですわ
console.log(isEmpty(Infinity)); // true と出力されるのですわ
```

以上が、ramda.js の isNil 関数についての説明でしたわ。ご理解いただけましたでしょうか？もし、もっと詳しく知りたいことがありましたら、お気軽にお尋ねくださいませ。には、ramda.js の他の関数についても詳しく説明されていますわ。ご参考になさってくださいませ。では、またお会いしましょう。ごきげんよう。🎀

## propls

ごきげんよう、お嬢様。ramda.js の propIs 関数について、わかりやすい具体例とともにできるだけ便利で実用的な使用方法を教えてさしあげますわ。¹

propIs 関数は、オブジェクトの特定のプロパティが指定した型と一致するかどうかを判定する関数ですわ。つまり、propIs(type, name, obj)は、typeof obj[name] === type と同じことですわ。

propIs 関数は、オブジェクトの配列に対して filter や find などの関数と組み合わせて使うと便利ですわ。例えば、次のようなオブジェクトの配列があるとしますわ。

```typescript
// オブジェクトの配列
const items: { name: string; price: number | string; quantity: number }[] = [
  { name: "apple", price: 100, quantity: 5 },
  { name: "banana", price: 80, quantity: 3 },
  { name: "orange", price: "sold out", quantity: 0 },
  { name: "grape", price: 200, quantity: 2 },
];
```

この配列から、価格が数値型のものだけを抽出したい場合は、propIs 関数に"number"と"price"を渡して作った関数を filter に渡しますわ。

```typescript
// ramda.jsのpropIs関数とfilter関数をインポート
import { propIs, filter } from "ramda";

// 価格が数値型のものだけを抽出する関数
const filterByNumberPrice = filter(propIs("number", "price"));

// 配列から価格が数値型のものだけを抽出する
const itemsWithNumberPrice = filterByNumberPrice(items);

// 価格が数値型のものだけをコンソールに出力
console.log("価格が数値型のものはこちらですわ");
console.log(itemsWithNumberPrice);
```

このように、propIs 関数はオブジェクトの特定のプロパティが指定した型と一致するかどうかを判定することができますわ。他にも、名前や数量などのプロパティに対しても同じように使えますわ。

```typescript
// 名前が文字列型のものだけを抽出する関数
const filterByStringName = filter(propIs("string", "name"));

// 配列から名前が文字列型のものだけを抽出する
const itemsWithStringName = filterByStringName(items);

// 名前が文字列型のものだけをコンソールに出力
console.log("名前が文字列型のものはこちらですわ");
console.log(itemsWithStringName);
```

これで、ramda.js の propIs 関数について、わかりやすい具体例とともにできるだけ便利で実用的な使用方法を教えてさしあげましたわ。素敵な関数ですわね。²

ソース: Bing との会話 2023/3/15(1) Ramda Documentation. https://ramdajs.com/docs/ アクセス日時 2023/3/15.
(2) Ramda Documentation. https://ramdajs.com/ アクセス日時 2023/3/15.
(3) Ramda applySpec - keep unmodified props - Stack Overflow. https://stackoverflow.com/questions/65007278/ramda-applyspec-keep-unmodified-props アクセス日時 2023/3/15.

ごきげんよう、お嬢様。ramda.js の type 関数について、わかりやすい具体例とともにできるだけ便利で実用的な使用方法を教えて差し上げますわ。type 関数は、引数の型を文字列で返す関数ですわ。例えば、以下のように使えますわ。

```typescript
import * as R from "ramda";

const age: number = 25; // 年齢は20歳以上にしておきますわ
const name: string = "Alice"; // 名前はAliceとしますわ
const hobbies: string[] = ["reading", "piano", "tennis"]; // 趣味は読書とピアノとテニスですわ

console.log(R.type(age)); // "Number" と表示されますわ
console.log(R.type(name)); // "String" と表示されますわ
console.log(R.type(hobbies)); // "Array" と表示されますわ
```

## type

このように、type 関数はプリミティブ型や配列などの組み込み型を判別するのに便利ですが、カスタム型やジェネリック型などの場合は、"Object" という一般的な文字列しか返しません。例えば、以下のようになります。

```typescript
interface Person<T> {
  name: string;
  age: number;
  hobbies: T[];
}

const alice: Person<string> = {
  name: "Alice",
  age: 25,
  hobbies: ["reading", "piano", "tennis"],
};

console.log(R.type(alice)); // "Object" と表示されますわ
```

これではあまり役に立ちませんね。そこで、ramda.js では propIs 関数や is 関数などを使って、より詳細な型チェックを行うことができます。propIs 関数は、オブジェクトの特定のプロパティが指定した型かどうかを判定します。is 関数は、引数が指定したコンストラクターから生成されたインスタンスかどうかを判定します。例えば、以下のように使えます。

```typescript
import * as R from "ramda";

class Animal {
  constructor(public name: string) {}
}

class Dog extends Animal {
  constructor(public name: string, public breed: string) {
    super(name);
  }
}

const snoopy = new Dog("Snoopy", "Beagle"); // Snoopyくんです

console.log(R.propIs(String, "name", snoopy)); // true を表示しますわ。nameプロパティが文字列型であることを確認できました。
console.log(R.propIs(Number, "age", snoopy)); // false を表示しますわ。ageプロパティが存在しないためです。
console.log(R.is(Animal, snoopy)); // true を表示しますわ。SnoopyくんがAnimalクラスから生成されたインスタンスであることを確認できました。
console.log(R.is(Dog, snoopy)); // true を表示しますわ。SnoopyくんがDogクラスから生成されたインスタンスであることも確認できました。
```

以上が ramda.js の type 関数についての説明です。素敵な関数ですわね。他にも何かご質問ございますか？

ソース: Bing との会話 2023/3/15(1) Ramda Documentation. https://ramdajs.com/ アクセス日時 2023/3/15.
(2) Ramda Documentation. https://ramdajs.com/docs/ アクセス日時 2023/3/15.
(3) 超強力な関数型プログラミング用ライブラリ Ramda.js を学ぼう #1 .... https://blog.recruit.co.jp/rmp/front-end/post-16249/ アクセス日時 2023/3/15.
(4) Curry generic function with Ramda and Typescript. https://stackoverflow.com/questions/71379916/curry-generic-function-with-ramda-and-typescript アクセス日時 2023/3/15.
(5) @types/ramda - npm. https://www.npmjs.com/package/@types/ramda アクセス日時 2023/3/15.
(6) Ramda Documentation. https://ramdajs.com/ アクセス日時 2023/3/15.

## isNotNil

お嬢様、こんにちは。ramda.js の「isNotNil」関数は、引数が null または undefined でない場合に true を返します。以下は、typescript 形式での関数の引数と返り値です。

例えば、以下のようなコードを書くことができます。

```typescript
import { isNotNil } from "ramda";

const someValue = null;
if (isNotNil(someValue)) {
  console.log("someValue is not null or undefined");
} else {
  console.log("someValue is null or undefined");
}
```

上記のコードでは、someValue が null または undefined でない場合に、'someValue is not null or undefined'が console.log されます。もし someValue が null または undefined であれば、'someValue is null or undefined'が console.log されます。

以上ですわ。何か他にお答えすることはありますか？🌸
